<div
  class="py-6 px-5 rounded bg-teal-50 border border-teal-600"
  {{did-insert this.handleDidInsert}}
  {{did-resize this.onResize}}
  data-test-upgrade-prompt
  ...attributes
>
  <div class="flex justify-between {{if this.isLarge 'flex-row items-center' 'flex-col'}} gap-4">
    <div>
      <div class="font-bold text-slate-600 {{if this.isLarge 'text-2xl' 'text-xl'}}">
        This stage requires a CodeCrafters Membership.
      </div>

      <div class="prose prose-compact py-3 {{if this.isLarge '' 'prose-sm'}}" data-test-upgrade-prompt-secondary-copy>
        {{#if this.isLoadingRegionalDiscount}}
          <p>
            Plans start at $40/mo.
          </p>
        {{else}}
          {{markdown-to-html this.secondaryCopyMarkdown}}
        {{/if}}

        <p>
          Not ready for a membership? You can üéÅ
          <LinkTo @route="refer">refer friends</LinkTo>
          to get free access.
        </p>
      </div>

      <PrimaryButton class="{{if this.isLarge 'w-fit' 'w-full'}}">
        <LinkTo @route="pay">
          View Membership Plans ‚Üí
        </LinkTo>
      </PrimaryButton>
    </div>

    <div class="flex flex-col gap-2 grow-0 shrink-0">
      {{#each this.featureList as |feature|}}
        <div class="flex gap-1 items-stretch">
          <div class="flex border border-transparent">
            {{svg-jar "check" class="w-8 h-8 p-1 fill-current rounded bg-teal-500 text-white grow-0 shrink-0 shadow"}}
          </div>

          <div class="rounded shadow-sm bg-white border border-gray-300 px-2 text-gray-800 flex items-center w-fit grow-0 shrink-0">
            {{feature}}
          </div>
        </div>
      {{/each}}
    </div>
  </div>
</div>